<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Go Scrabble, Part 1</title>
  <meta name="description" content="  caneroj1/scrabble is my first foray into the Go programming language. It's a port of my Ruby command-line app for automating keeping score during scrabble....">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="caneroj1.github.io/go/scrabble/2015/08/15/go-scrabble_part_1.html">
  <link rel="alternate" type="application/rss+xml" title="Joe Canero" href="caneroj1.github.io/feed.xml" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>


  <body>
    <header class="site-header">
  <div class="wrapper">
    <div id="navfix">
      <nav>
        <div class='nav-wrapper'>
          <ul id="dropdown" class="dropdown-content">
            <li><a href="https://github.com/caneroj1">Github</a></li>
            <li><a href="https://twitter.com/JCanero">Twitter</a></li>
            <li><a href="/blog.html">Blog</a></li>
            <li><a href="/resume/resume.pdf">Resume</a></li>
          </ul>
          <a class='brand-logo' href='/index.html'>Joe Canero</a>
          <a class='button-collapse dropdown-button' data-activates='dropdown' href='#!'>
            <i class='mdi-navigation-menu'></i>
          </a>
          <ul class='splash-nav-ul hide-on-med-and-down' id='nav-mobile'>
            <li class="splash-nav-li">
              <a class='nav-link' href='https://github.com/caneroj1'>
                <img src="/images/github.png" class="responsive-img icon">
                Github
              </a>
            </li>
            <li class="splash-nav-li">
              <a class='nav-link' href='https://twitter.com/JCanero'>
                <img src="/images/twitter.png" class="responsive-img icon">
                Twitter
              </a>
            </li>
            <li class="splash-nav-li">
              <a class='nav-link' href='/blog.html'>
                Blog
                <i class='mdi-editor-mode-comment left'></i>
              </a>
            </li>
            <li class="splash-nav-li">
              <a class='nav-link' href='/resume/resume.pdf'>
                Resume
                <i class='mdi-image-portrait left'></i>
              </a>
            </li>
          </ul>
        </div>
      </nav>
    </div>

  </div>

</header>

    <div class="full-width" id="banner" data-title="Go Scrabble, Part 1">
      <div class="row">
        <div class="col s12 blog-title">
          <h1>Go Scrabble, Part 1</h1>
          <h4>Aug 15, 2015</h4>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="page-content">
        <div class="wrapper">
          <div class="post">
            <div class="row">
              <div class="col s10 offset-s1">
                <article class="post-content">
                  <blockquote>
  <a href="https://github.com/caneroj1/scrabble">caneroj1/scrabble</a> is my first foray into the Go programming language. It's a port of my Ruby command-line app for automating keeping score during scrabble. In fact, it's pretty generic and can probably be used for keeping score in any kind of turn-based game. This post will talk about the Go programming language and what I learned on this project.
</blockquote>

<h2 class="blog-header-2">Prerequisites</h2>
<h3 class="blog-header">Installing Go</h3>
<div class="blog-container">
  <div class="col s12">
    <p>
      The Go installation process was pretty painless. I used the Mac OS X Installer available on golang.org's <a href="https://golang.org/doc/install">download page</a>.
    </p>
    <p>
      After that's done, there is some manual setup required. Developing in Go should be done inside a <strong>Go Workspace</strong>, which is just a fancy name for a specific directory structure, but first we need to take care of some organization.
    </p>
  </div>
</div>
<h3 class="blog-header">Structuring your Workspace</h3>
<div class="blog-container">
  <div class="col s12">
    <p>
      Go's development toolchain requires things to be structured in a very specific way. So once your install of Go is done, execute this in your terminal
      <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">mkdir</span> <span class="vg">$HOME</span><span class="o">/</span><span class="n">go</span></code></pre></div>
    </p>
    <p>
      We're creating our Go workspace inside our $HOME path, which for me is <pre>/Users/jcanero</pre>
    </p>
    <p>
      Feel free to set up your workspace anywhere else, but remember to change the following commands appropriately.
    </p>
    <p>
      Now we need to create the following subdirectories in our workspace.
      <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">mkdir</span> <span class="vg">$HOME</span><span class="o">/</span><span class="n">go</span> <span class="n">bin</span> <span class="n">src</span> <span class="n">pkg</span></code></pre></div>
    </p>
    <p>
      The <strong>bin</strong>
      directory is where all of our executable Go programs will be stored. The <strong>pkg</strong>
      directory is where any libraries or packages built that can be imported are stored. Finally, <strong>src</strong> is where you will be doing your development.
    </p>
    <p>
      The <strong>src</strong> directory should be structured based on the version control system you are using to version your code. For me, I use GitHub, so run the following in terminal
      <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">mkdir</span> <span class="o">-</span><span class="n">i</span> <span class="vg">$HOME</span><span class="o">/</span><span class="n">go</span><span class="o">/</span><span class="n">src</span> <span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">caneroj1</span></code></pre></div>
    </p>
    <p>
      but be sure to replace <strong>caneroj1</strong> with your GitHub account. The last step is to
      <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">export</span> <span class="no">GOPATH</span><span class="o">=</span><span class="vg">$HOME</span><span class="o">/</span><span class="n">go</span></code></pre></div>
    </p>
    <p>
      This adds your Go workspace to the GOPATH variable, which the Go toolchain requires to function smoothly. You can also
      <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">export</span> <span class="no">PATH</span><span class="o">=</span><span class="vg">$PATH</span><span class="p">:</span><span class="vg">$GOPATH</span><span class="o">/</span><span class="n">bin</span></code></pre></div>
    </p>
    <p>
      which adds the <strong>bin</strong> directory of your workspace to your $PATH so you can execute built binaries anywhere. Now that is all taken care of...
    </p>
  </div>
</div>
<h2 class="blog-header-2">Go Code</h2>
<h3 class="blog-header">Understanding Imports</h3>
<div class="blog-container">
  <div class="col sm-12">
    <p>
      You can easily get the code by executing
      <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">go</span> <span class="n">get</span> <span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">caneroj1</span><span class="o">/</span><span class="n">scrabble</span></code></pre></div>
    </p>
    <p>
      The Go tool will fetch the code from my repo and add it to your workspace.
    </p>
    <p>
      The main code is in the <strong>scrabble.go</strong> file, as denoted by the
      <div class="highlight"><pre><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span></code></pre></div>
    </p>
    <p>
      at the top. You can see there are quite a few import statements, too.
      <div class="highlight"><pre><code class="language-go" data-lang="go"><span class="kn">import</span> <span class="p">(</span>
  <span class="s">&quot;fmt&quot;</span>
  <span class="s">&quot;os&quot;</span>
  <span class="s">&quot;strconv&quot;</span>
  <span class="s">&quot;github.com/caneroj1/scrabble/go/player&quot;</span>
  <span class="s">&quot;github.com/caneroj1/scrabble/go/reader&quot;</span>
  <span class="s">&quot;github.com/caneroj1/scrabble/go/game&quot;</span>
<span class="p">)</span></code></pre></div>

    </p>
    <p>
      Importing <strong>fmt</strong> allows us to do things like print to the screen or print interpolated strings, like with
      <div class="highlight"><pre><code class="language-go" data-lang="go"><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Hello World&quot;</span><span class="p">)</span></code></pre></div>
    </p>
    <p>
      Or
      <div class="highlight"><pre><code class="language-go" data-lang="go"><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%d bottles of beer on the wall&quot;</span><span class="p">,</span> <span class="mi">99</span><span class="p">)</span></code></pre></div>
    </p>
    <p>
      Import <strong>os</strong> provides access to functions like <strong>Exit()</strong>, which I use to exit the program when I encounter an error, or variables like <strong>os.Stdin</strong>, which points to the standard input.
    </p>
    <p>
      Importing <strong>strconv</strong> gives us useful functions like <strong>strconv.ParseInt()</strong>. The next three lines are importing code specific to the <strong>github.com/caneroj1/scrabble</strong> repository. If you look inside that directory, you can see there is a <strong>go</strong> directory, containing the <strong>player</strong>, <strong>reader</strong>, and <strong>game</strong> directories. The import statements give us access to exported identifiers in those directories.
    </p>
  </div>
</div>


<h3 class="blog-header">The Business of Exports</h3>
<div class="blog-container">
  <div class="col sm-12">
    <p>
      What does it mean for an identifier to exported?
    </p>
    <p>
      Before we can answer that question, we need to first understand what identifiers are.
    </p>
    <p>
      An identifier is usually a keyword, and can be something like a variable name, or a function, or constant declaration.
      <div class="highlight"><pre><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nx">add</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">name</span> <span class="kt">string</span></code></pre></div>
    </p>
    <p>
      In the above code, <strong>add</strong> is an identifier representing that function, and <strong>name</strong> is an identifier representing a string.
    </p>
    <p>
      There are also a few special types of identifiers in Go. Variable <em>types</em> in Go, such as int, int8, string, uint, and bool are called <strong>predeclared identifiers</strong>, and they are available at what is called the <strong>universe block</strong>, which is, literally, anywhere.
    </p>
    <p>
      Another type of identifier is called the <strong>blank identifier</strong> and that is represented by a single <strong>_</strong>. It is a placeholder for a variable. It can be used in situations like
      <div class="highlight"><pre><code class="language-go" data-lang="go"><span class="nx">n</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">n</span> <span class="p">{</span>
  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="p">}</span></code></pre></div>
    </p>
    <p>
      to get only a named reference to each value in <strong>n</strong> through <strong>v</strong> and ignore the first return value of <strong>range</strong>.
    </p>
    <p>
      Now, an exported identifier is an identifier that is accessible across packages. Any identifier is exported if it begins with a capitalized Unicode letter and it is declared at the <strong>package level</strong>.
      Let's export the code from above.
      <div class="highlight"><pre><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">test</span>

<span class="kd">func</span> <span class="nx">Add</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">Name</span> <span class="kt">string</span></code></pre></div>
    </p>
    <p>
      As simply as that, we can access the variable <strong>Name</strong> or call the function <strong>Add</strong> from any other package that imports <strong>test</strong>.
    </p>
  </div>
</div>
<h3 class="blog-header">Part 2 is coming soon!</h3>

                </article>
              </div>
            </div>
          </div>
        </div>
      </div>

      <script src='https://code.jquery.com/jquery-2.1.1.min.js' type='text/javascript'></script>
<script
<script src='/js/materialize.min.js' type='text/javascript'>
</script>
<script src="/js/geopattern.min.js" type="text/javascript"></script>
<script src='/js/post.js' type='text/javascript'>
</script>

    </div>
  </body>

</html>
